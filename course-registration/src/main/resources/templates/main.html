<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"> <head>
    <meta charset="UTF-8">
    <title>ìˆ˜ê°•ì‹ ì²­ ì‹œìŠ¤í…œ</title>
    <style>
        /* ìŠ¤íƒ€ì¼ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ */
        body { font-family: 'Malgun Gothic', sans-serif; margin: 0; padding: 20px; background-color: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; }
        h2 { border-left: 5px solid #0056b3; padding-left: 10px; color: #333; margin-bottom: 15px; }
        table { width: 100%; border-collapse: collapse; background: white; margin-bottom: 30px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        th { background-color: #f0f2f5; color: #333; padding: 10px; border: 1px solid #ddd; font-size: 14px; }
        td { padding: 10px; border: 1px solid #ddd; text-align: center; font-size: 14px; }
        .btn-apply { background-color: #0056b3; color: white; border: none; padding: 6px 12px; cursor: pointer; border-radius: 4px; }
        .btn-apply:hover { background-color: #004494; }
        .summary { background-color: #fff; padding: 15px; border-radius: 5px; margin-bottom: 10px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; }
        .total-credit { color: #d6336c; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ“– ê°œì„¤ ê³¼ëª© ì¡°íšŒ</h2>
    <table>
        <thead>
        <tr>
            <th style="width:60px">ì‹ ì²­</th>
            <th>í•™ê³¼</th>
            <th>êµê³¼ëª©ëª…</th>
            <th>ë‹´ë‹¹êµìˆ˜</th>
            <th>í•™ì </th>
            <th>ê°•ì˜ì‹œê°„</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="lecture : ${lectures}">
            <td>
                <button class="btn-apply"
                        th:onclick="'applyCourse(' + ${lecture.id} + ')'">ì‹ ì²­</button>
            </td>
            <td>ì»´í“¨í„°ê³µí•™</td> <td th:text="${lecture.lectureName}" style="font-weight:bold; text-align:left; padding-left:20px;">ê°•ì˜ëª…</td>
            <td th:text="${lecture.professor}">êµìˆ˜ë‹˜</td>
            <td th:text="${lecture.grade} + 'í•™ë…„'">1í•™ë…„</td>
            <td th:text="${lecture.credit} + 'í•™ì '">3í•™ì </td>
        </tr>

        <tr th:if="${#lists.isEmpty(lectures)}">
            <td colspan="6" style="padding: 30px; color: #999;">
                í˜„ì¬ ê°œì„¤ëœ ê°•ì˜ê°€ ì—†ìŠµë‹ˆë‹¤.
            </td>
        </tr>
        </tbody>
    </table>

    <h2>ğŸ’ ìˆ˜ê°• ì‹ ì²­ ë‚´ì—­ (í¬ë§êµê³¼ëª©)</h2>
    <div class="summary">
        <span>í˜„ì¬ ì‹ ì²­ ê³¼ëª© ìˆ˜: <span id="count">0</span>ê³¼ëª©</span>
    </div>
    <table>
        <thead>
        <tr>
            <th style="width: 60px">ì‚­ì œ</th>
            <th>êµê³¼ëª©ëª…</th>
            <th>ë‹´ë‹¹êµìˆ˜</th>
            <th>í•™ì </th>
        </tr>
        </thead>
        <tbody id="my-course-list">
        <tr>
            <td colspan="4" style="color: #999;">ìˆ˜ê°• ì‹ ì²­ ë‚´ì—­ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.</td>
        </tr>
        </tbody>
    </table>
</div>

<script>
    // â˜… ë³µì¡í•œ fetch ë¡œë”© ì½”ë“œëŠ” ë‹¤ ì‚­ì œí–ˆìŠµë‹ˆë‹¤!
    // Controllerê°€ ì´ë¯¸ ë°ì´í„°ë¥¼ ë‹¤ ê°€ì ¸ì™”ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

    // ìˆ˜ê°•ì‹ ì²­ ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
    function applyCourse(id) {
        alert("ê°•ì˜ ID: " + id + "ë²ˆ ì‹ ì²­ì„ ì‹œë„í•©ë‹ˆë‹¤.\n(ì•„ì§ ì‹ ì²­ ê¸°ëŠ¥ì€ ì—°ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!)");

        // ë‚˜ì¤‘ì— ì—¬ê¸°ì— fetch('/enrollment') ì½”ë“œë¥¼ ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤.
    }
</script>

</body>
</html>